{% extends '_table.html'%}
{% load static %}

{% block extra_buttons %}
  <button type="button" class="btn btn-outline-primary btn-md">Large button</button>

{% endblock extra_buttons %}


{% block header %}
<th>
</th>
<th>
</th>
<th></th>
{% include 'betmodal.html' %}
{% endblock header %}


{% block extra %}
yea

<!-- <script id="json-chart-data" type="application/json">
  {
    "bets_url": "{% url 'load_bets' %}",
    "results_url": "{% url 'results' %}"
  }
</script> -->
<!-- <script src="{% static 'js/frontpage.js' %}"/> -->

<script>
  console.log("predictions.html")


  window.onload = (event) => {
    const text_content = document.getElementById("json-chart-data").textContent
    const chart_json_data = JSON.parse(text_content)
    const modal = document.getElementById("bet-modal")
    const chart_select = document.getElementById("chart-select")


    load_bets = () => {
      console.log("load bets")
      if (chart_select) {
        chart_id = chart_select.value
        $.ajax({
          url: chart_json_data["bets_url"],
          dataType: "html",
          data: {
            "chart_id": chart_id,
          },
          success: function(data) {
            $("#bets").html(data)
          }
        })
      }
    }

    load_bets()

  };

</script>

{% endblock extra %}
