{% for race in races %}
<button
  data-toggle="modal"
  data-target="#exotic-modal"
  data-race="{{ race.uuid }}"
  data-venue="{{ race.chart.program.venue.code }}"
  data-time="{{ race.chart.get_time_display }}"
  data-number="{{ race.number }}"
  class="btn btn-sm btn-block btn-outline-primary exotic-bet bet-button">
  <span class="race-number-cell">
    Race {{ race.number }}
  </span>
</button>

{% if race.get_exotic_bets %}
<div id="exotic-wagers-{{ race.uuid }}" style="margin-top: 10px; border-radius: .2rem; ">
{% for wager in race.get_exotic_bets %}

  <div id="{{ wager.uuid }}-wager-div" class="list-group-item exotic-wager-item">
    <span class="exotic-wager-span">${{ wager.amount }} {{ wager.get_name }} {{ wager.get_posts }}</span>
    <button
      type="button"
      data-wageruuid="{{ wager.uuid }}"
      style="display:none"
      class="btn btn-sm btn-outline-danger float-right exotic-delete-button">
      &#10005;
    </button>
  </div>
{% endfor %}
</div>
{% endif %}


<table
  id="main-table"
  class="table table-sm table-borderless fade-in">
  {% for prediction in race.get_straight_predictions %}
    <tr>
      <td>
        {{ prediction.participant.post }}
        <span
          class="dog-name-span">
          {{ prediction.participant.dog.name|truncatechars:13 }}
      </td>
      <td>
        <button
          type="button"
          class="btn btn-outline-success btn-block btn-sm bet-button"
          data-toggle="modal"
          data-target="#straight-bet-modal"
          data-dog="{{ prediction.participant.dog.name }}"
          data-post="{{ prediction.participant.post }}"
          data-bets="{{ prediction.participant.get_recommended_bet }}"
          data-venue="{{ prediction.participant.race.chart.program.venue.code }}"
          data-chart="{{ prediction.participant.race.chart.get_time_display }}"
          data-number="{{ prediction.participant.race.number }}"
          data-participant="{{ prediction.participant.uuid }}"
          data-bets="{{ prediction.get_bets }}"
          disabled>
          <span id="participant_bets">
            {{ prediction.participant.bet }}
          </span>
        </button>
      </td>
      <td id="{{ participant.uuid }}-win-td">
        <button
          class="btn btn-sm btn-block btn-outline-light"
          disabled>
          ${{ participant.get_win_bet.amount }}
        </button>
      </td>
      <td id="{{ participant.uuid }}-place-td">
        <button
          class="btn btn-sm btn-block btn-outline-light"
          disabled>
          P
        </button>
      </td>
      <td id="{{ participant.uuid }}-show-td">
        <button
          class="btn btn-sm btn-block btn-outline-light"
          disabled>
          S
        </button>
      </td>
    </tr>
  {% endfor %}
</table>
{% endfor %}

<script>
  exotic_wager_buttons = document.getElementsByClassName("exotic-wager-item")
  for (let i=0; i<exotic_wager_buttons.length; i++) {
    exotic_wager_buttons[i].addEventListener("click", toggle_delete_show)
  }

  exotic_delete_buttons = document.getElementsByClassName("exotic-delete-button")
  for (let i=0; i<exotic_delete_buttons.length; i++) {
    exotic_delete_buttons[i].addEventListener("click", handle_exotic_delete)
  }
</script>

<br/>

<br/>  <br/>  <br/>  <br/>  <br/>  <br/>  <br/>  <br/>  <br/>
